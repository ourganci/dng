<!-- dachreparatur.component.html -->
<div class="service-detail-page">

    <!-- Intro Section -->
    <section class="service-intro">
        <div class="container">
            <div class="section-header">
                <h1>{{ titleWithCity }}</h1>
                <h2 class="subtitle">{{ subtitleWithCity }}</h2>
            </div>

            <div class="story-grid">
                <div class="story-content">
                    @if (regionalTextParts) {
                    <p>{{ regionalTextParts.intro }}</p>
                    <p><strong>{{ regionalTextParts.location }}</strong></p>
                    <p>{{ regionalTextParts.action }}</p>
                    } @else {
                    <p>
                        <strong>Ob Sturmschaden, undichte Stelle oder defekter Ziegel:</strong>
                    </p>
                    <p>
                        Ein beschädigtes Dach duldet keinen Aufschub. Als Ihr erfahrener Dachdecker-Fachbetrieb
                        für die Region Nahe-Glan sind wir bei Notfällen schnell vor Ort und sichern Ihr Zuhause
                        professionell ab.
                    </p>
                    <p>
                        Wir bieten sofortige Dachreparaturen, langfristige Wartungsverträge und eine fachgerechte
                        Schadensaufnahme direkt vor Ort.
                    </p>
                    }

                    <p>
                        <strong>Alles aus einer Hand. Regional. Persönlich. Zuverlässig.</strong>
                    </p>

                    @if (city) {
                    <div class="local-trust-badge"
                        style="background: #fff4f4; border: 1px solid #e31e24; padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <h4 style="color: #e31e24; margin-top: 0;">Regionaler Vor-Ort-Service</h4>
                        <p style="margin-bottom: 0;">
                            Schnelle Hilfe für <strong>{{ city.name }}</strong> und die gesamte Region <strong>{{
                                city.region }}</strong>.
                            Wir kennen die regionalen Anforderungen und sorgen für ein sicheres Dach über Ihrem Kopf.
                        </p>
                    </div>
                    }
                </div>
                <div class="story-image">
                    <img src="assets/images/services/dachsanierung_detail1.jpg"
                        [alt]="city ? 'Dachreparatur Fachbetrieb in ' + city.name : 'Dachreparatur Fachbetrieb Region Nahe-Glan'"
                        loading="lazy">
                </div>
            </div>
        </div>
    </section>

    <!-- Unsere Leistungen -->
    <section class="service-what-you-get">
        <div class="container">
            <div class="section-header">
                <h2>Unsere Leistungen</h2>
                <h2 class="subtitle"></h2>
            </div>
            <div class="story-grid">
                <div class="story-content">
                    <strong>
                        <p>Reparaturleistungen im Überblick</p>
                    </strong>
                    <ul class="bullet-list">
                        <li><strong>Schieferdachsanierung & alte Handwerkskunst</strong></li>
                        <li>Austausch loser oder zerbrochener Dachziegel</li>
                        <li>Abdichtung von undichten Stellen</li>
                        <li>Reparatur nach Sturm, Hagel oder starker Witterung</li>
                        <li>Behebung von Verstopfungen in Rinnen und Kehlen</li>
                        <li><strong>Notfall? – Auf Wunsch auch kurzfristig verfügbar.</strong></li>
                    </ul>
                </div>
                <div class="story-image">
                    <img src="assets/images/services/dachsanierung/dachsanierung_1.jpeg" alt="Dachreparatur"
                        loading="lazy">
                </div>
            </div>
            <div class="story-grid">
                <div class="story-content">
                    <strong>
                        <p>Wartung und Instandhaltung für Ihre Dächer</p>
                    </strong>
                    <ul class="bullet-list">
                        <li>Sichtprüfung, Reinigung, kleine Reparaturen</li>
                        <li>Dachrinnen-Check & Laubentfernung</li>
                        <li>Dokumentation für Versicherungen</li>
                        <li>Frühwarnsystem für Folgeschäden</li>
                    </ul>
                </div>
                <div class="story-image">
                    <img src="assets/images/services/dachsanierung/rinne.webp" alt="Dachrinnen" loading="lazy">
                </div>
            </div>
            <div class="story-grid">
                <div class="story-content">
                    <strong>
                        <p>Notdienst – schnelle Hilfe bei Schäden</p>
                    </strong>
                    <ul class="bullet-list">
                        <li>Einsatzbereit bei akuten Schäden (z. B. Wassereintritt)</li>
                        <li>Notabdichtung zur Schadensbegrenzung</li>
                        <li>Sofortige Absicherung bei Gefahr im Verzug</li>
                        <li>Hotline / Bereitschaftsdienst auf Anfrage möglich</li>
                    </ul>
                </div>
                <div class="story-image">
                    <img src="assets/images/services/dachsanierung/schaden.webp" alt="Schaden" loading="lazy">
                </div>
            </div>
        </div>
    </section>

    <section class="service-faqs">
        <div class="container">
            <h2>Häufig gestellte Fragen</h2>

            <div class="faq-list">
                @for (faq of faqs; track $index) {
                <div class="faq-item" [class.active]="faq.isOpen">
                    <button type="button" class="faq-question" (click)="toggleFaq($index)"
                        [attr.aria-expanded]="faq.isOpen" [attr.aria-controls]="'faq-answer-' + $index">
                        <span class="question-text">{{ faq.question }}</span>
                        <span class="faq-icon" [class.rotated]="faq.isOpen">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </span>
                    </button>

                    @if (faq.isOpen) {
                    <div class="faq-answer" [id]="'faq-answer-' + $index">
                        <p>{{ faq.answer }}</p>
                    </div>
                    }
                </div>
                }
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="service-cta">
        <div class="container">
            <div class="cta-box">
                <h2>
                    @if (city) {
                    Brauchen Sie eine Dachreparatur in {{ city.name }}?
                    } @else {
                    Brauchen Sie eine Dachreparatur?
                    }
                </h2>
                <p>Kontaktieren Sie uns für eine schnelle Vor-Ort-Besichtigung und ein unverbindliches Angebot.</p>
                <app-cta-button text="Jetzt Kontakt aufnehmen" link="/kontakt" />
            </div>
        </div>
    </section>

</div>