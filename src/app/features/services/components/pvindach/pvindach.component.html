<!-- pvindach.component.html -->
<div class="service-detail-page">
    <!-- Intro Section -->
    <section class="service-intro">
        <div class="container">
            <div class="section-header">
                <h1>{{ titleWithCity }}</h1>
                <p class="subtitle">{{ subtitleWithCity }}</p>
            </div>
            <div class="story-grid">
                <div class="story-content">
                    <p>
                        <strong>Indach-PV ist die eleganteste Verbindung von Schutz und Energie.</strong>
                    </p>
                    <p>
                        Statt Module auf Schienen zu montieren, werden die Solarpaneele direkt als Dacheindeckung
                        verlegt.
                        Sie ersetzen Ziegel oder Schiefer vollständig und bilden eine wetterfeste, homogene Einheit.
                    </p>
                    <p>Schnell. Ästhetisch. Wertsteigernd.</p>
                </div>
                <div class="story-image">
                    <img src="assets/images/services/indach/PV-1-korr.webp"
                        [alt]="'PV Indach Montage' + (city ? ' in ' + city.name : '')" loading="lazy">
                </div>
            </div>

            <div class="story-grid" style="margin-top: 3rem;">
                <div class="story-content">
                    <h3>GSE IN-ROOF SYSTEM™</h3>
                    <p>
                        @if (city) {
                        Für unsere Kunden in {{ city.name }} setzen wir auf das patentierte GSE System.
                        } @else {
                        Wir setzen auf das zertifizierte GSE IN-ROOF SYSTEM™ – Qualität aus Europa.
                        }
                        Diese Lösung ist kompatibel mit Dachfenstern von VELUX oder ROTO und bietet 15 Jahre Garantie.
                    </p>
                    <p>Ideal für anspruchsvolle Architektur und denkmalgeschützte Nähe, da die Photovoltaikmodule
                        optisch mit der Dachstruktur verschmelzen.</p>
                </div>
                <div class="story-image">
                    <img src="assets/images/services/indach/indach2_m.webp"
                        [alt]="'Ästhetische PV-Integration GSE System'" loading="lazy">
                </div>
            </div>
        </div>
    </section>

    <section class="service-what-you-get">
        <div class="container">
            <div class="section-header">
                <h2>PV-Indach Komplettservice</h2>
                <p class="subtitle">Alles aus einer Hand in der Region {{ city?.region || 'Nahe-Glan' }}</p>
            </div>
            <div class="service-cards-grid">
                <div class="service-card">
                    <div class="card-image">
                        <img src="assets/images/services/photovoltaik/card1.jpg" [alt]="'PV Planung'">
                    </div>
                    <div class="card-content">
                        <h3>Planung & Ertrag</h3>
                        <p>Individuelle Ertragsprognose und Design-Check für Ihr Dach@if(city){ in {{ city.name }}}.</p>
                    </div>
                </div>

                <div class="service-card">
                    <div class="card-image">
                        <img src="assets/images/services/photovoltaik/card2.webp" [alt]="'PV Indach Montage'">
                    </div>
                    <div class="card-content">
                        <h3>Eigene Montage</h3>
                        <p>Zertifizierter Verbau durch unsere Dachdecker – inklusive voller Gewährleistung.</p>
                    </div>
                </div>

                <div class="service-card">
                    <div class="card-image">
                        <img src="assets/images/services/photovoltaik/card3.webp" [alt]="'PV Anmeldung'">
                    </div>
                    <div class="card-content">
                        <h3>Netz & Behörden</h3>
                        <p>Wir übernehmen die komplette Anmeldung beim Netzbetreiber und Marktstammdatenregister.</p>
                    </div>
                </div>

                <div class="service-card">
                    <div class="card-image">
                        <img src="assets/images/services/photovoltaik/card4.jpg" [alt]="'Solar Speicher'">
                    </div>
                    <div class="card-content">
                        <h3>Speicher & Backup</h3>
                        <p>Moderne Speichersysteme für maximale Autarkie@if(city){ im Raum {{ city.name }}}.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="service-process">
        <div class="container">
            <div class="section-header">
                <h2>Vorteile auf einen Blick</h2>
            </div>
            <div class="story-grid">
                <div class="story-image">
                    <img src="assets/images/services/photovoltaik/check.jpg" alt="Indach Prüfung" loading="lazy">
                </div>
                <div class="story-content">
                    <div class="process-list">
                        <div class="process-item">
                            <div class="item-content">
                                <h3>Höchste Ästhetik</h3>
                                <p>Homogene Optik ohne störende Aufbauten – das Kraftwerk wird zum Dach.</p>
                            </div>
                        </div>
                        <div class="process-item">
                            <div class="item-content">
                                <h3>Sturmsicher</h3>
                                <p>Minimale Windangriffsfläche durch bündigen Verbau mit der Dacheindeckung.</p>
                            </div>
                        </div>
                        <div class="process-item">
                            <div class="item-content">
                                <h3>Gewichtsersparnis</h3>
                                <p>Entlastung der Dachstatik, da schwere Ziegel durch leichte Module ersetzt werden.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="service-benefits">
        <div class="benefits-grid">
            <div class="benefits-image">
                <img src="assets/images/services/photovoltaik/bulp_m.webp" alt="Vorteile DNG" class="benefits-img">
            </div>
            <div class="benefits-content">
                <div class="content-wrapper">
                    <div class="section-header">
                        <h2>Warum DNG@if(city){ in {{ city.name }} }?</h2>
                        <p class="subtitle">Ihr Partner für Solartechnik & Dachhandwerk</p>
                    </div>
                    <div class="benefits-highlights">
                        <div class="highlight-item">
                            <h3>Beratung vor Ort</h3>
                            <p>Planung direkt bei Ihnen @if(city){ in {{ city.name }} } durch unsere PV-Experten.</p>
                        </div>
                        <div class="highlight-item">
                            <h3>Eigene Teams</h3>
                            <p>Alles aus einer Hand: Dachdecker und Elektriker arbeiten Hand in Hand.</p>
                        </div>
                        <div class="highlight-item">
                            <h3>Regionale Nähe</h3>
                            <p>Kurze Wege @if(city){ im Raum {{ city.region }} } für schnellen Service und Wartung.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- FAQ -->
    <section class="service-faqs">
        <div class="container">
            <h2>Häufig gestellte Fragen</h2>
            <div class="faq-list">
                @for (faq of faqs; track $index) {
                <div class="faq-item" [class.active]="faq.isOpen">
                    <button type="button" class="faq-question" (click)="toggleFaq($index)"
                        [attr.aria-expanded]="faq.isOpen" [attr.aria-controls]="'faq-answer-' + $index">
                        <span class="question-text">{{ faq.question }}</span>
                        <span class="faq-icon" [class.rotated]="faq.isOpen">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </span>
                    </button>

                    @if (faq.isOpen) {
                    <div class="faq-answer" [id]="'faq-answer-' + $index">
                        <p>{{ faq.answer }}</p>
                    </div>
                    }
                </div>
                }
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="service-cta">
        <div class="container">
            <div class="cta-box">
                <h2>
                    @if (city) {
                    Interesse an einer PV Indach-Lösung in {{ city.name }}?
                    } @else {
                    Interesse an einer PV Indach-Lösung?
                    }
                </h2>
                <p>Kontaktieren Sie uns für eine kostenlose Vor-Ort-Beratung und ein unverbindliches Angebot.</p>
                <app-cta-button text="Jetzt Beratung anfragen" link="/kontakt" />
            </div>
        </div>
    </section>
</div>