<!-- flachdach.component.html -->
<div class="service-detail-page">

    <!-- Intro Section -->
    <section class="service-intro">
    <div class="container">
        <div class="section-header">
            <h1>{{ titleWithCity }}</h1>
            <h2 class="subtitle">{{ subtitleWithCity }}</h2>
        </div>

        <div class="story-grid">
            <div class="story-content">
                <p>
                    <strong>Undichte Flachdächer führen schnell zu erheblichen Schäden an der Bausubstanz.</strong>
                </p>
                
                @if (regionalTextFlachdach) {
                    <p>{{ regionalTextFlachdach.intro }}</p>
                    <p><strong>{{ regionalTextFlachdach.detail }}</strong></p>
                    <p>{{ regionalTextFlachdach.benefit }}</p>
                } @else {
                    <p>
                        Ganz gleich ob bei Industriehallen, Wohngebäuden oder Garagen: Wir bieten Ihnen professionelle 
                        <strong>Dichtheitsprüfungen für Flachdächer</strong> mittels Rauch- oder Dampferzeugung. 
                        Unsere zerstörungsfreien Verfahren sparen Zeit und hohe Sanierungskosten.
                    </p>
                }
                <p><strong>Schnell. Zuverlässig. Dokumentiert.</strong></p>
            </div>
            <div class="story-image">
                <img src="assets/images/services/flachdach/flachdachpruefung.webp" 
                     [alt]="city ? 'Flachdach Leckortung in ' + city.name : 'Flachdachprüfung mittels Rauchgas'" 
                     loading="lazy">
            </div>
        </div>
    </div>
</section>



<section class="service-importance">
    <div class="importance-grid">
        <div class="importance-image">
            <img src="assets/images/services/flachdach/rauchgas_wide_s.webp" 
                 [alt]="'Leckortung am Flachdach durch Rauchgaserzeugung'" 
                 loading="lazy">
        </div>

        <div class="importance-content">
            <div class="content-wrapper">
                <div class="section-header">
                    <h2>Verfahren & Vorteile</h2>
                    <p class="subtitle">Präzise Ortung ohne Dachöffnung</p>
                </div>
                <div class="importance-highlights">
                    <div class="highlight-item">
                        <h3>Rauchgasprüfung</h3>
                        <p>Sichtbare Leckagen bei Bitumen- oder Folienabdichtungen. Ideal für die Lokalisierung kleinster Risse.</p>
                    </div>
                    <div class="highlight-item">
                        <h3>Dampferzeugung</h3>
                        <p>Spezialverfahren für komplizierte Dachaufbauten und zur Visualisierung von Luftströmungen.</p>
                    </div>
                    <div class="highlight-item">
                        <h3>Prüfprotokoll</h3>
                        <p>Gerichtsfeste Dokumentation mit Fotos für Versicherungen und Immobilieneigentümer.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    <section class="service-faqs">
        <div class="container">
            <h2>Häufig gestellte Fragen</h2>

            <div class="faq-list">
                @for (faq of faqs; track $index) {
                <div class="faq-item" [class.active]="faq.isOpen">
                    <button type="button" class="faq-question" (click)="toggleFaq($index)"
                        [attr.aria-expanded]="faq.isOpen" [attr.aria-controls]="'faq-answer-' + $index">
                        <span class="question-text">{{ faq.question }}</span>
                        <span class="faq-icon" [class.rotated]="faq.isOpen">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </span>
                    </button>

                    @if (faq.isOpen) {
                    <div class="faq-answer" [id]="'faq-answer-' + $index">
                        <p>{{ faq.answer }}</p>
                    </div>
                    }
                </div>
                }
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="service-cta">
        <div class="container">
            <div class="cta-box">
                <h2>
                    @if (city) {
                        Flachdachprüfung in {{ city.name }} benötigt?
                    } @else {
                        Flachdachprüfung benötigt?
                    }
                </h2>
                <p>Kontaktieren Sie uns für eine professionelle Dichtheitsprüfung mit Prüfprotokoll.</p>
                <app-cta-button text="Jetzt Kontakt aufnehmen" link="/kontakt" />
            </div>
        </div>
    </section>

</div>
