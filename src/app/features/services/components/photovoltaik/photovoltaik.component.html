<!-- photovoltaik.component.html -->
<div class="service-detail-page">
    <!-- Intro Section -->
    <section class="service-intro">
        <div class="container">
            <div class="section-header">
                <h1>{{ titleWithCity }}</h1>
                <h2 class="subtitle">{{ subtitleWithCity }}</h2>
            </div>
            <div class="story-grid">
                <div class="story-content">
                    <p><strong>Wir liefern Ihnen mehr als nur eine PV-Anlage:</strong></p>
                    <p>
                        Als erfahrener Dachdecker- und Elektrofachbetrieb realisieren wir maßgeschneiderte Photovoltaik-Systeme 
                        inklusive Stromspeicher und Wallbox. 
                    </p>
                    <p>{{ regionalText }}</p>
                    <p>
                        <strong>Alles aus einer Hand. Regional. Persönlich. Zuverlässig.</strong>
                    </p>
                </div>
                <div class="story-image">
                    <img src="assets/images/services/photovoltaik/solar_m.webp" alt="Solaranlagen" loading="lazy">
                </div>
            </div>
        </div>
    </section>

    <!-- Alle anderen Sections bleiben unverändert bis zur CTA -->

    <section class="service-what-you-get">
        <div class="container">
            <div class="section-header">
                <h2>Von der Planung bis zur Inbetriebnahme</h2>
                <h2 class="subtitle">Unser Komplettservice für Ihre Photovoltaikanlage</h2>
            </div>
            <div class="service-cards-grid">
                <!-- Cards bleiben gleich -->
                <div class="service-card">
                    <div class="card-image">
                        <img src="assets/images/services/photovoltaik/card1.jpg" alt="Bestandsaufnahme & Beratung">
                    </div>
                    <div class="card-content">
                        <h3>Beratung & Planung</h3>
                        <p>Wirtschaftlichkeitsberechnung, Ertragsprognose und persönliche Empfehlung zu Speicher & Wallbox –
                        individuell auf Ihre Gegebenheiten zugeschnitten.</p>
                    </div>
                </div>

                <div class="service-card">
                    <div class="card-image">
                        <img src="assets/images/services/photovoltaik/card2.webp" alt="Lichtplanung & Berechnung">
                    </div>
                    <div class="card-content">
                        <h3>Schlüsselfertige Montage</h3>
                        <p>Installation durch unser eigenes Dachdecker- und Elektrikerteam. Fachgerechte Einbindung ins
                        Dach, auch Indachanlagen, inklusive Dokumentation.</p>
                    </div>
                </div>

                <div class="service-card">
                    <div class="card-image">
                        <img src="assets/images/services/photovoltaik/card3.webp" alt="LED-Lösungen">
                    </div>
                    <div class="card-content">
                        <h3>Anmeldung & Administration</h3>
                        <p>Netzprüfung und Anmeldung beim Energieversorger – wir
                        übernehmen alle behördlichen Schritte.</p>
                    </div>
                </div>

                <div class="service-card">
                    <div class="card-image">
                        <img src="assets/images/services/photovoltaik/card4.jpg" alt="Montage & Installation">
                    </div>
                    <div class="card-content">
                        <h3>Speicher & Notstrom</h3>
                        <p>Maßgeschneiderte Solarspeicher für maximale Eigennutzung. Auf Wunsch mit Notstromlösungen für
                        Gewerbe oder sensible Stromabnehmer.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Prozess Section bleibt gleich -->
    <section class="service-process">
        <!-- ... bestehender Content ... -->
    </section>

    <!-- Benefits Section bleibt gleich -->
    <section class="service-benefits">
        <!-- ... bestehender Content ... -->
    </section>

    <!-- FAQ -->
    <section class="service-faqs">
        <div class="container">
            <h2>Häufig gestellte Fragen</h2>

            <div class="faq-list">
                @for (faq of faqs; track $index) {
                <div class="faq-item" [class.active]="faq.isOpen">
                    <button type="button" class="faq-question" (click)="toggleFaq($index)"
                        [attr.aria-expanded]="faq.isOpen" [attr.aria-controls]="'faq-answer-' + $index">
                        <span class="question-text">{{ faq.question }}</span>
                        <span class="faq-icon" [class.rotated]="faq.isOpen">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </span>
                    </button>

                    @if (faq.isOpen) {
                    <div class="faq-answer" [id]="'faq-answer-' + $index">
                        <p>{{ faq.answer }}</p>
                    </div>
                    }
                </div>
                }
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="service-cta">
        <div class="container">
            <div class="cta-box">
                <h2>
                    @if (city) {
                        Interesse an einer PV-Anlage in {{ city.name }}?
                    } @else {
                        Interesse an einer PV-Anlage?
                    }
                </h2>
                <p>Kontaktieren Sie uns für eine kostenlose Vor-Ort-Beratung und ein unverbindliches Angebot.</p>
                <app-cta-button text="Jetzt Beratung anfragen" link="/kontakt" />
            </div>
        </div>
    </section>
</div>
