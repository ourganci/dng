<!-- src/app/features/references/references.component.html -->

<div class="references-page">

  <!-- Projects Section -->
  <section class="projects-section">
    <div class="container">
      <div class="section-header">
        <h2>Unsere Projekte</h2>
        <h2 class="subtitle">Vorher-Nachher Einblicke in unsere Arbeit</h2>
      </div>

      <div class="section-carousel">
        <div id="carouselExampleCaptions" class="carousel slide carousel-fade">
          <div class="carousel-indicators">
            @for (img of images; track $index) {
            <button type="button" data-bs-target="#carouselExampleCaptions" [attr.data-bs-slide-to]="$index"
              [class.active]="$index === 0" [attr.aria-current]="$index === 0 ? 'true' : null"
              [attr.aria-label]="img.alt">
            </button>
            }
          </div>

          <div class="carousel-inner">
            @for (img of images; track $index) {
            <div class="carousel-item" [class.active]="$index === 0">
              <img [src]="img.src" class="d-block w-100" [alt]="img.alt">
              <!-- @if (img.caption || img.title) {
                            <div class="carousel-caption d-none d-md-block">
                                @if (img.title) { <h5>{{ img.title }}</h5> }
                                @if (img.caption) { <p>{{ img.caption }}</p> }
                            </div>
                            } -->
            </div>
            }
          </div>

          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <div class="projects-grid">

    <!-- @for (project of projects; track project.title) {
          <div class="project-card">
             Project Info 
            <div class="project-info">
              <h3>{{ project.title }}</h3>
              
              <div class="project-meta">
                <span class="meta-item">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                  </svg>
                  {{ project.location }}
                </span>
                <span class="meta-item">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  {{ project.year }}
                </span>
                <span class="meta-item service">{{ project.service }}</span>
              </div>

              <p class="project-description">{{ project.description }}</p>
            </div>

             Project Images 
            <div class="project-images">
              <div class="image-comparison">
                <div class="image-box">
                  <img [src]="project.imageBefore" [alt]="project.title + ' vorher'" loading="lazy">
                  <span class="image-label">Vorher</span>
                </div>
                <div class="image-box">
                  <img [src]="project.imageAfter" [alt]="project.title + ' nachher'" loading="lazy">
                  <span class="image-label">Nachher</span>
                </div>
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </section> -->

    <!-- Testimonials Section -->
    <section class="testimonials-section">
      <div class="container">
        <div class="section-header">
          <h2>Kundenstimmen</h2>
          <h2 class="subtitle">Das sagen unsere zufriedenen Kunden</h2>
        </div>

        <div class="testimonials-grid">
          @for (testimonial of testimonials; track testimonial.name) {
          <div class="testimonial-card">
            <div class="testimonial-rating">
              @for (star of getRatingStars(testimonial.rating); track $index) {
              <span>{{ star }}</span>
              }
            </div>
            <p class="testimonial-text">"{{ testimonial.text }}"</p>
            <div class="testimonial-author">
              <strong>{{ testimonial.name }}</strong>
              <span>{{ testimonial.location }} â€¢ {{ testimonial.date }}</span>
            </div>
          </div>
          }
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="references-cta">
      <div class="container">
        <h2>Werden Sie Teil unserer Erfolgsgeschichte</h2>
        <p>
          Lassen Sie uns auch Ihr Dachprojekt verwirklichen. Wir freuen uns auf Ihre Anfrage!
        </p>
        <a routerLink="/kontakt" class="cta-button">
          Jetzt Beratungstermin vereinbaren
        </a>
      </div>
    </section>

  </div>